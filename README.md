# intermediate-code-generator

intermediate code generater in c++

references:

https://www.cnblogs.com/sykline/p/13197470.html

### ç›®å‰å®Œæˆçš„å·¥ä½œ

- è¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æå†™äº†ï¼ˆæŠ„äº†ï¼‰ï¼Œç¨å¾®æ”¹ç¼–äº†ä¸€ä¸‹ï¼ŒåŠ äº†ä¸€å †æ³¨é‡Šã€‚
  - æŒ‰ç…§åŠŸèƒ½ç®€å•åˆ†æˆäº†ä¸åŒçš„ç±»ï¼Œå„ç§å±æ€§åˆ—è¡¨éƒ½æ˜¯é™æ€çš„å…¨å±€å¯è®¿é—®ï¼Œç±»çš„æ–¹æ³•éƒ½æ˜¯é™æ€æ–¹æ³•ã€‚åˆ†çš„ä¸æ˜¯å¾ˆä¸¥è°¨ï¼Œåšåšæ ·å­ã€‚
  
- è¯­ä¹‰åˆ†æå’Œä¸­é—´ä»£ç ç”Ÿæˆï¼šç›®å‰åªå®ç°äº†æœ€ç®€å•çš„èµ‹å€¼è¯­å¥ï¼šid:=E

  - å‰é¢çš„éƒ½åšå®Œäº†å…¶ä»–çš„åº”è¯¥ä¹Ÿä¸æ˜¯å¾ˆéº»çƒ¦ï¼Œä¸»è¦æ˜¯å¸ƒå°”è¡¨è¾¾å¼å’Œæ¡ä»¶è·³è½¬è¯­å¥çš„çœŸå‡å‡ºå£è¦æ–Ÿé…Œä¸€ä¸‹

- å…³äºè¯æ³•åˆ†æå™¨/è¯­æ³•åˆ†æå™¨å’Œæ–‡æ³•

  - è¯/è¯­æ³•åˆ†æå™¨æŠ„çš„ç¾¤é‡Œçš„ ğŸ”— https://github.com/frederickmo/compiler

  - æ–‡æ³•æ˜¯å€Ÿçš„ zfn ç»„çš„https://github.com/melonedo/intermediate-code-generator , ä»–ä»¬ç”¨ python å†™çš„ä»£ç é‡æ„Ÿè§‰å°‘å¾ˆå¤šï¼Œå°¤å…¶æ˜¯ç”¨äº†ä¸€ä¸ªè¯æ³•/è¯­æ³•åˆ†æçš„æ¡†æ¶ lark ç›´æ¥è¾“å…¥è¯­æ³•ç”ŸæˆçŠ¶æ€è½¬æ¢è¡¨ï¼ˆæ®è¯´ c++ä¹Ÿæœ‰å¾ˆå¤šæ¡†æ¶å¯ä»¥ç›´æ¥ç”¨ï¼Œä¸»è¦æ˜¯æˆ‘ä¸ä¼šï¼Œè€Œä¸”çŸ­æ—¶é—´å†…ä¹Ÿä¸å¥½å­¦ï¼Œæ‰€ä»¥ç¨å¾®ç»•äº†ä¸€äº›å¼¯è·¯ï¼‰ï¼Œ

  - æŒ‰ç…§æ–‡æ³•ç”Ÿæˆçš„ LALR çŠ¶æ€è½¬æ¢è¡¨ï¼šæœ‰ä¸€äº›åœ°æ–¹å…¶å®æ˜¯å­˜åœ¨ç§»è¿›è§„çº¦å†²çªçš„ï¼ˆè·‘ä¸€è¾¹ä»£ç å°±æœ‰æç¤ºï¼‰ä½†æ˜¯æˆ‘è¯•äº†ä¸€ä¸‹ç®€å•çš„è¡¨è¾¾å¼ä¼¼ä¹å¯ä»¥å®Œæˆï¼Œæœ‰é—®é¢˜åé¢å†è¯´

  - æ–‡æ³•é‡Œé¢ä¸ºäº†**ä¿è¯å„ç§ä»£ç é€»è¾‘çš„ä¼˜å…ˆçº§**æ‰€ä»¥æœ‰å¾ˆå¤šå±‚çš„éç»ˆç»“ç¬¦é€’å½’å½’çº¦ï¼Œç›´æ¥æŒ‰ç…§ PPT ä¸Šçš„

    ![æˆªå±2022-01-03 02.23.20](img1.jpg)

    è¿™ç§è¾“è¿›å»æ˜¯åšä¸åˆ°ä¸€ä¸ªå®Œæˆçš„çŠ¶æ€è½¬æ¢è¡¨çš„~ä¼šæœ‰å¾ˆå¤šå¾ˆå¤šå¾ˆå¤šéœ€è¦æ‰‹åŠ¨è§£å†³çš„ç§»è¿›è§„çº¦å†²çªï¼Œæ‰€ä»¥å¦‚æœå†™ä¸­é—´ä»£ç ç”Ÿæˆè¯­å¥çš„ç¿»è¯‘çš„è¿‡ç¨‹çš„è¯ï¼Œå»ºè®®å†™çš„æ—¶å€™æ‰‹åŠ¨æ¨å¯¼ä¸€ä¸‹ã€‚

    ä¸¾ä¸ªä¾‹å­ï¼š

    ![IMG_1580](IMG_1580.jpg)

- **æŒ‰ç…§ç®—æ³•åˆ†å·¥ä½œé‡æ˜¯å®Œå…¨ä¸è¡Œçš„ï¼Œ**å› ä¸ºåé¢å¸ƒå°”è¡¨è¾¾å¼ä»¥åŠæ¡ä»¶è·³è½¬è¯­å¥è¦æ„æˆä¸€ä¸ªå®Œæ•´çš„å¥å­å¿…é¡»ç”¨åˆ°å‰é¢çš„èµ‹å€¼è¯­å¥ã€‚æ‰€ä»¥åº”è¯¥æŒ‰ç…§é¡ºåºæ¥æ‰èƒ½æ­£å¸¸è¿›è¡Œã€‚

  ![æˆªå±2022-01-03 02.29.15](img2.jpg)

  è¿˜æœ‰ä¸€ç‚¹ï¼Œ**ç®—æ³• 7 ä¸ç”¨å†™ã€‚**å†™ 1-6 å°±è¡Œäº†ã€‚ï¼ˆå¦‚æœæœ‰æ—¶é—´æŠŠ 7 å†™äº†ä¹Ÿè¡Œï¼Œzfn ä»–ä»¬ç»„å°±å†™äº†ã€‚ä¸è¿‡ä»–ä»¬ä¸€ä¸ªæœˆå‰å°±å¼€å§‹å†™äº†)

- æ¥ä¸‹æ¥çš„å·¥ä½œé‡åº”è¯¥ä¸æ˜¯å¾ˆå¤šäº†ï¼Œä¸»è¦æ˜¯è¦æŠŠ QuadrupleTranslator.h é‡Œé¢çš„ä¸œè¥¿çœ‹æ‡‚ï¼ŒTokenizer, GrammarAnalyzer å’Œ SemanticAnalyzer å¦‚æœæ²¡æ—¶é—´çœ‹çš„è¯å½“é»‘ç›’å­ç”¨åº”è¯¥å¤§æ¦‚ä¹Ÿè¡Œï¼Ÿå¤§å®¶åŠ æ²¹

- ç›®å‰çš„è¾“å‡ºåªæ˜¯ä¸ª demo ç”¨æ¥æµ‹è¯•ç”¨çš„ï¼Œæœ€ç»ˆçš„æµ‹è¯•æ–¹å¼è‚¯å®šä¸æ˜¯ç°åœ¨è¿™ä¸ªæ ·å­

- æ‰‹æ¨å½’çº¦è¿‡ç¨‹çš„æ—¶å€™ cmake-build-debug æ–‡ä»¶å¤¹é‡Œæœ‰ csv æ ¼å¼çš„çŠ¶æ€è½¬æ¢è¡¨ï¼Œå¯ä»¥ copy ä¸€ä»½ä¸ç”¨æ¯æ¬¡éƒ½ç”Ÿæˆä¸€æ¬¡

  - ä¸ºä»€ä¹ˆè¿™ä¸ªçŠ¶æ€è½¬æ¢è¡¨æœ‰ 700 å¤šä¸ªçŠ¶æ€å‘¢ï¼Ÿ => å› ä¸ºæ˜¯ LALR åˆå¹¶çš„ LR(1)çš„çŠ¶æ€é›†ï¼ŒLR(1)æœ‰ 700 å¤šä¸ªçŠ¶æ€ï¼ŒLALR åˆå¹¶ä»¥åæ²¡æœ‰é‡æ–°ç¼–å·ï¼Œäº‹å®ä¸Šåªæœ‰ 90 å¤šç§

    => æœ‰ç©ºæƒ³é‡æ–°ç¼–ä¸ªå·çš„å¯ä»¥è¯•è¯•ï¼Œä½†æ„Ÿè§‰æ²¡å¿…è¦ï¼Œä¹Ÿå¯ä»¥æ­£å¸¸ç”¨
  
- (çŠ¶æ€71å­˜åœ¨è§„çº¦-è§„çº¦å†²çª)
(çŠ¶æ€122å­˜åœ¨è§„çº¦-è§„çº¦å†²çª)
  
ç›®å‰å¥½åƒé‡åˆ°äº†é—®é¢˜ï¼Œæ‰‹åŠ¨è§£å†³è¯•è¯•

- è¯·å°½é‡ä½¿ç”¨Clionæ‰“å¼€å’Œç¼–è¾‘ï¼Œå› ä¸ºæˆ‘ç”¨çš„æ˜¯Clion

  Clioné‡Œçš„TODOæ³¨é‡Šæˆ‘ç”¨æ¥å…¨å±€æ ‡æ³¨ä¸€äº›éœ€è¦æ³¨æ„æˆ–è€…æ”¹åŠ¨çš„åœ°æ–¹

  - TODO > è¿˜æœªå®Œæˆçš„åœ°æ–¹
  - FIXME > ï¼ˆå¯èƒ½ï¼‰æœ‰é—®é¢˜çš„åœ°æ–¹
  - CORE > æ ¸å¿ƒåŠŸèƒ½/éœ€è¦ç‰¹åˆ«å…³æ³¨çš„åœ°æ–¹
  - ATTENTION > éœ€è¦å…³æ³¨çš„åœ°æ–¹

  è¯·åœ¨Clionçš„Preferences > Editor > TODOçš„Patternsé‡Œæ·»åŠ ä¸¤è¡Œï¼ˆå¤§å°å†™æ•æ„Ÿä¸å‹¾é€‰ï¼‰

  ```
  \bcore\b.*
  \battention\b.*
  ```

  
